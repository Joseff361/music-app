{"version":3,"file":"js/692.98069c00.js","mappings":"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","sources":["webpack://music-app/./src/components/MusicPlayer.vue?b171","webpack://music-app/./src/helpers/index.ts","webpack://music-app/./src/components/MusicPlayer.vue?10ee","webpack://music-app/./src/components/MusicPlayer.vue"],"sourcesContent":["import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, vModelText as _vModelText, withDirectives as _withDirectives, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-49b34a2c\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"player\" }\nconst _hoisted_2 = { class: \"player__description\" }\nconst _hoisted_3 = [\"src\"]\nconst _hoisted_4 = { class: \"player__description__info\" }\nconst _hoisted_5 = { class: \"player__actions\" }\nconst _hoisted_6 = { class: \"player__config\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"img\", {\n        src: _ctx.cover,\n        alt: \"Cover Track\"\n      }, null, 8, _hoisted_3),\n      _createElementVNode(\"div\", _hoisted_4, [\n        _createElementVNode(\"strong\", null, _toDisplayString(_ctx.title), 1),\n        _createElementVNode(\"span\", null, _toDisplayString(_ctx.album), 1)\n      ])\n    ]),\n    _createElementVNode(\"div\", _hoisted_5, [\n      _createElementVNode(\"i\", {\n        class: \"fa-solid fa-backward\",\n        onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.prev && _ctx.prev(...args)))\n      }),\n      (_ctx.isPlaying)\n        ? (_openBlock(), _createElementBlock(\"i\", {\n            key: 0,\n            class: \"fa-solid fa-circle-pause player__actions__play\",\n            onClick: _cache[1] || (_cache[1] = \n//@ts-ignore\n(...args) => (_ctx.pause && _ctx.pause(...args)))\n          }))\n        : (_openBlock(), _createElementBlock(\"i\", {\n            key: 1,\n            class: \"fa-solid fa-circle-play player__actions__play\",\n            onClick: _cache[2] || (_cache[2] = \n//@ts-ignore\n(...args) => (_ctx.play && _ctx.play(...args)))\n          })),\n      _createElementVNode(\"i\", {\n        class: \"fa-solid fa-forward\",\n        onClick: _cache[3] || (_cache[3] = \n//@ts-ignore\n(...args) => (_ctx.next && _ctx.next(...args)))\n      })\n    ]),\n    _createElementVNode(\"div\", _hoisted_6, [\n      _withDirectives(_createElementVNode(\"input\", {\n        type: \"range\",\n        min: \"0\",\n        max: \"100\",\n        \"onUpdate:modelValue\": _cache[4] || (_cache[4] = ($event: any) => ((_ctx.volume) = $event)),\n        onChange: _cache[5] || (_cache[5] = \n//@ts-ignore\n(...args) => (_ctx.changeVolume && _ctx.changeVolume(...args)))\n      }, null, 544), [\n        [_vModelText, _ctx.volume]\n      ]),\n      _createElementVNode(\"i\", {\n        class: _normalizeClass(_ctx.volumenIcon),\n        onClick: _cache[6] || (_cache[6] = \n//@ts-ignore\n(...args) => (_ctx.changeVolState && _ctx.changeVolState(...args)))\n      }, null, 2)\n    ])\n  ]))\n}","export const satinize = (value: string, max = 30) => {\n  return value.length > max ? `${value.slice(0, max)}...` : value;\n};\n","\nimport { useStore } from '@/store';\nimport { computed, defineComponent, ref, watch } from 'vue';\nimport { satinize } from '@/helpers';\n\nexport default defineComponent({\n  name: 'MusicPlayer',\n  setup() {\n    const store = useStore();\n    const isPlaying = ref(true);\n    const volume = ref(15);\n    const audio = computed(() => store.state.currentTrack.preview);\n    const volumenIcon = ref('fa-solid fa-volume-low');\n\n    const maxIndex = store.state.tracks.length;\n    const player = new Audio();\n\n    const play = (): void => {\n      changeVolume();\n      player.play();\n      isPlaying.value = true;\n    };\n\n    const pause = (): void => {\n      player.pause();\n      isPlaying.value = false;\n    };\n\n    const next = (): void => {\n      const currentIndex = store.state.tracks.findIndex(\n        track => track.id === store.state.currentTrack.id\n      );\n\n      if (currentIndex + 1 === maxIndex) {\n        store.commit('setCurrentTrack', store.state.tracks[0]);\n      } else {\n        store.commit('setCurrentTrack', store.state.tracks[currentIndex + 1]);\n      }\n    };\n\n    const prev = (): void => {\n      const currentIndex = store.state.tracks.findIndex(\n        track => track.id === store.state.currentTrack.id\n      );\n\n      if (currentIndex === 0) {\n        store.commit('setCurrentTrack', store.state.tracks[maxIndex - 1]);\n      } else {\n        store.commit('setCurrentTrack', store.state.tracks[currentIndex - 1]);\n      }\n    };\n\n    const updateIcon = (): void => {\n      volumenIcon.value =\n        player.volume > 0.6\n          ? 'fa-solid fa-volume-high'\n          : player.volume > 0\n          ? 'fa-solid fa-volume-low'\n          : 'fa-solid fa-volume-xmark';\n    };\n\n    const changeVolume = (): void => {\n      player.volume = volume.value / 100;\n      updateIcon();\n    };\n\n    const changeVolState = (): void => {\n      player.volume = player.volume > 0 ? 0 : volume.value / 100;\n      updateIcon();\n    };\n\n    watch(audio, () => {\n      player.src = audio.value;\n      play();\n    });\n\n    return {\n      cover: computed(\n        (): string => store.state.currentTrack.album.cover_medium\n      ),\n      title: computed((): string => satinize(store.state.currentTrack.title)),\n      album: computed((): string =>\n        satinize(store.state.currentTrack.album.title)\n      ),\n      volume,\n      audio,\n      isPlaying,\n      volumenIcon,\n      play,\n      pause,\n      next,\n      prev,\n      changeVolume,\n      changeVolState,\n    };\n  },\n});\n","import { render } from \"./MusicPlayer.vue?vue&type=template&id=49b34a2c&scoped=true&ts=true\"\nimport script from \"./MusicPlayer.vue?vue&type=script&lang=ts\"\nexport * from \"./MusicPlayer.vue?vue&type=script&lang=ts\"\n\nimport \"./MusicPlayer.vue?vue&type=style&index=0&id=49b34a2c&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/joseff/Documents/portfolio/music-app/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-49b34a2c\"]])\n\nexport default __exports__"],"names":["_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","render","_ctx","_cache","$props","$setup","$data","$options","_openBlock","_createElementBlock","_createElementVNode","src","cover","alt","_toDisplayString","title","album","onClick","args","prev","isPlaying","key","pause","play","next","_withDirectives","type","min","max","$event","volume","onChange","changeVolume","_vModelText","_normalizeClass","volumenIcon","changeVolState","satinize","value","length","slice","defineComponent","name","setup","store","useStore","ref","audio","computed","state","currentTrack","preview","maxIndex","tracks","player","Audio","currentIndex","findIndex","track","id","commit","updateIcon","watch","cover_medium","__exports__"],"sourceRoot":""}